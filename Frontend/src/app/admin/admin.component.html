<body>

    <mat-toolbar color="primary">
        <div> 
            Add New Flight Details
        </div>
    </mat-toolbar>
    <div *ngIf ="display; then thenblock; else elseblock"></div>
    <ng-template #thenblock>

     <form #addnew="ngForm" (ngSubmit)="Addflight(addnew.value)" > 
         

        <div class="form-group">
            <label for="flightId">FlightId</label>
            <input type="text" required #idflight ="ngModel" id="flightId" name="flightId" [class.is-invalid]="idflight.invalid && idflight.touched"  pattern="^(0|[1-9][0-9]*)$"  class="form-control" ngModel><br>
            <div *ngIf="idflight.errors && (idflight.invalid || idflight.touched)">
                <small class="text-danger" *ngIf="idflight.errors['required']">FlightId location is required</small>
                <small class="text-danger" *ngIf="idflight.errors['pattern']">Enter valid Id</small>
            </div>
        </div>

        <div class= "form-group" >
             <label for="departure">Departure </label><br>
             <input type="text" required #name="ngModel"  id="departure" name="departure"  [class.is-invalid]="name.invalid && name.touched"  pattern="[a-zA-Z ]*"  class="form-control" ngModel><br>
            <div *ngIf="name.errors && (name.invalid || name.touched)">
                <small class="text-danger" *ngIf="name.errors['required']">Departure location is required</small>
                <small class="text-danger" *ngIf="name.errors['pattern']">Enter valid location</small>
            </div>   
        </div>

        <div class= "form-group">
              <label for="destination">Destination </label><br>
             <input  type="text" required #location="ngModel" id="destination" name="destination"  pattern="[a-zA-Z ]*" class="form-control" ngModel><br>
         <div *ngIf="location.errors && (location.invalid || location.touched)">
             <small class="text-danger" *ngIf="location.errors['required']">Destionation location is required</small>
            <small class="text-danger" *ngIf="location.errors['pattern']">Enter valid location </small>
         </div>
        </div> 

        <div class="form-group">
            <label for="price">Price</label><br>
            <input type="text" required #price="ngModel" id="price" name="price" pattern="^(0|[1-9][0-9]*)$" class="form-control" ngModel><br>
            <div *ngIf="price.errors && (price.invalid || price.touched)">
                <small class="text-danger" *ngIf="price.errors['required']">Price is required</small>
                <small class="text-danger" *ngIf="price.errors['pattern']">Enter valid amount</small>
            </div>
        </div>

        <div class= "form-group">
            <label for="date">Date </label><br>
            <input  type="text" required #date="ngModel" id="date" name="date" pattern="^(1[0-2]|0[1-9])-(3[01]|[12][0-9]|0[1-9])-[0-9]{4}$" class="form-control" ngModel><br>
            <div *ngIf="date.errors && (date.invalid || date.touched)">
            <small class="text-danger" *ngIf="date.errors['required']">Date is required</small>
            <small class="text-danger" *ngIf="date.errors['pattern']">Enter valid date</small>
            </div>
        </div> 



        <div>
            <button mat-stroked-button [disabled] ="addnew.form.invalid" type="submit">Add</button>
       </div>
        </form>
    </ng-template>

    <ng-template #elseblock>
        <h2 class="heading">{{string}}</h2>
        <button mat-stroked-button ><a  routerLink="/adminfunc" routerLinkActive="Active" >Back</a></button>
    </ng-template>

</body>